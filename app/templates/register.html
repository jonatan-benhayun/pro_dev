{% extends "base.html" %}
{% block title %}×”×¨×©××”{% endblock %}
{% block content %}
<h1>×”×¨×©××”</h1>
<form method="post" action="{{ url_for('auth.register') }}" class="card">
  <label for="username">×©× ××©×ª××©</label>
  <input id="username" name="username" type="text" required>

  <label for="email">××™××™×™×œ</label>
  <input id="email" name="email" type="email" required>

<label for="grade">×›×™×ª×”</label>
<select id="grade" name="grade" required>
  <option value="" disabled
    {{ 'selected' if not (request.form.get('grade') or (user and user.grade)) }}>
    ×‘×—×¨/×™ ×›×™×ª×”
  </option>

  {# ×¢×¨×š × ×‘×—×¨ (×× ×‘×¢×¨×™×›×ª ×¤×¨×•×¤×™×œ / ×©×œ×™×—×” ×©× ×›×©×œ×”) #}
  {% set chosen = (request.form.get('grade') or (user.grade if user is defined and user else ''))|int %}

  {# grades = GRADE_CHOICES = [(1,"××³"), (2,"×‘×³"), ...] #}
  {% for val, label in grades %}
    <option value="{{ val }}" {{ 'selected' if val == chosen else '' }}>
      {{ label }}   {# ××¦×™×’ ×¨×§ ××•×ª×™×•×ª #}
    </option>
  {% endfor %}
</select>


  
  <label for="password">×¡×™×¡××”</label>
  <div class="password-field">
    <input id="password" name="password" type="password" placeholder="×¡×™×¡××”" required>
    <button type="button" class="toggle-password" aria-label="×”×¦×’/×”×¡×ª×¨ ×¡×™×¡××”">ğŸ‘ï¸</button>
  </div>

  <button type="submit">×”×¨×©××”</button>
</form>
<p>×›×‘×¨ ×™×© ××©×ª××©? <a href="{{ url_for('auth.login') }}">×›× ×™×¡×”</a></p>
{% endblock %}
